<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DryadLinqQueryable.Fork(TSource, TKey) Method (IQueryable(TSource), Expression(Func(TSource, TKey)), TKey[])</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:Microsoft.Research.DryadLinq.DryadLinqQueryable.Fork``2(System.Linq.IQueryable{``0},System.Linq.Expressions.Expression{System.Func{``0,``1}},``1[])" /><meta name="Description" content="Divides the input dataset into a collection of datasets based on the keys of the records. The method produces one output dataset for each key in the specified key array. Input records that don't match any of the keys are dropped." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Microsoft.Research.DryadLinq" /><meta name="file" content="c0dd673a-3a38-6030-54f0-dab156c26679" /><meta name="guid" content="c0dd673a-3a38-6030-54f0-dab156c26679" /></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn">DryadLinqQueryable<span id="LST69F089E0_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_0?cpp=::|nu=.");</script>Fork<span id="LST69F089E0_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_1?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TSource</span>, <span class="typeparameter">TKey</span><span id="LST69F089E0_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_2?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script> Method (IQueryable<span id="LST69F089E0_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_3?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TSource</span><span id="LST69F089E0_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_4?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Expression<span id="LST69F089E0_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_5?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Func<span id="LST69F089E0_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_6?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TSource</span>, <span class="typeparameter">TKey</span><span id="LST69F089E0_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_7?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><span id="LST69F089E0_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_8?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, <span id="LST69F089E0_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_9?cpp=array&lt;");</script><span class="typeparameter">TKey</span><span id="LST69F089E0_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_10?cpp=&gt;|vb=()|nu=[]");</script>)</td><td class="OH_tdRunningTitleColumn">DryadLINQ documentation</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span><div class="summary">
            Divides the input dataset into a collection of datasets based on the keys of the records.
            The method produces one output dataset for each key in the specified key array. Input 
            records that don't match any of the keys are dropped.
            </div><p> </p><strong>Namespace:</strong> <a href="efe6507e-9fd8-bbd3-8227-fd6ba9e289c1.htm">Microsoft.Research.DryadLinq</a><br /><strong>Assembly:</strong> Microsoft.Research.DryadLinq (in Microsoft.Research.DryadLinq.dll) Version: 0.1.5.0 (0.1.5.0)<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeft" id="ID0ECCA_tabimgleft"> </div><div id="ID0ECCA_tab1" class="OH_CodeSnippetContainerTabFirst"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','cs','1','3');return false;">C#</a></div><div id="ID0ECCA_tab2" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','vb','2','3');return false;">VB</a></div><div id="ID0ECCA_tab3" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','cpp','3','3');return false;">C++</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0ECCA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0ECCA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0ECCA');return false;" title="Copy">Copy</a></div></div><div id="ID0ECCA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">static</span> <span class="identifier">IKeyedMultiQueryable</span>&lt;TSource, TKey&gt; <span class="identifier">Fork</span>&lt;TSource, TKey&gt;(
	<span class="keyword">this</span> <span class="identifier">IQueryable</span>&lt;TSource&gt; <span class="parameter">source</span>,
	<span class="identifier">Expression</span>&lt;<span class="identifier">Func</span>&lt;TSource, TKey&gt;&gt; <span class="parameter">keySelector</span>,
	TKey[] <span class="parameter">keys</span>
)
</pre></div><div id="ID0ECCA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve">&lt;<span class="identifier">ExtensionAttribute</span>&gt; 
<span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Function</span> <span class="identifier">Fork</span>(<span class="keyword">Of</span> TSource, TKey) ( 
	<span class="parameter">source</span> <span class="keyword">As</span> <span class="identifier">IQueryable</span>(<span class="keyword">Of</span> TSource),
	<span class="parameter">keySelector</span> <span class="keyword">As</span> <span class="identifier">Expression</span>(<span class="keyword">Of</span> <span class="identifier">Func</span>(<span class="keyword">Of</span> TSource, TKey)),
	<span class="parameter">keys</span> <span class="keyword">As</span> TKey()
) <span class="keyword">As</span> <span class="identifier">IKeyedMultiQueryable</span>(<span class="keyword">Of</span> TSource, TKey)</pre></div><div id="ID0ECCA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span>:
[<span class="identifier">ExtensionAttribute</span>]
<span class="keyword">generic</span>&lt;<span class="keyword">typename</span> TSource, <span class="keyword">typename</span> TKey&gt;
<span class="keyword">static</span> <span class="identifier">IKeyedMultiQueryable</span>&lt;TSource, TKey&gt;^ <span class="identifier">Fork</span>(
	<span class="identifier">IQueryable</span>&lt;TSource&gt;^ <span class="parameter">source</span>, 
	<span class="identifier">Expression</span>&lt;<span class="identifier">Func</span>&lt;TSource, TKey&gt;^&gt;^ <span class="parameter">keySelector</span>, 
	<span class="keyword">array</span>&lt;TKey&gt;^ <span class="parameter">keys</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0ECCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">source</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/bb351562" target="_blank">System.Linq<span id="LST69F089E0_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_11?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>IQueryable</a><span id="LST69F089E0_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_12?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="selflink"><span class="typeparameter">TSource</span></span><span id="LST69F089E0_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_13?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The input dataset</dd><dt><span class="parameter">keySelector</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/bb335710" target="_blank">System.Linq.Expressions<span id="LST69F089E0_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_14?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Expression</a><span id="LST69F089E0_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_15?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="http://msdn2.microsoft.com/en-us/library/bb549151" target="_blank">Func</a><span id="LST69F089E0_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_16?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="selflink"><span class="typeparameter">TSource</span></span>, <span class="selflink"><span class="typeparameter">TKey</span></span><span id="LST69F089E0_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_17?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><span id="LST69F089E0_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_18?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />The function to extract the key from a record</dd><dt><span class="parameter">keys</span></dt><dd>Type: <span id="LST69F089E0_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_19?cpp=array&lt;");</script><span class="selflink"><span class="typeparameter">TKey</span></span><span id="LST69F089E0_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_20?cpp=&gt;|vb=()|nu=[]");</script><br />A list of the partition keys</dd></dl><h4 class="subHeading">Type Parameters</h4><dl><dt><span class="parameter">TSource</span></dt><dd>The type of records of input dataset</dd><dt><span class="parameter">TKey</span></dt><dd>The type of the keys of the input records</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="721bf2e3-dc55-bf0a-0873-d5a6b711d57a.htm">IKeyedMultiQueryable</a><span id="LST69F089E0_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_21?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="selflink"><span class="typeparameter">TSource</span></span>, <span class="selflink"><span class="typeparameter">TKey</span></span><span id="LST69F089E0_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_22?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />An IKeyedMultiQueryable for the output datasets.<h4 class="subHeading">Usage Note</h4>In Visual Basic and C#, you can call this method as an instance method on any object of type <a href="http://msdn2.microsoft.com/en-us/library/bb351562" target="_blank">IQueryable</a><span id="LST69F089E0_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_23?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="selflink"><span class="typeparameter">TSource</span></span><span id="LST69F089E0_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST69F089E0_24?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>. When you use instance method syntax to call this method, omit the first parameter. For more information, see <a href="http://msdn.microsoft.com/en-us/library/bb384936.aspx" target="_blank">Extension Methods (Visual Basic)</a> or <a href="http://msdn.microsoft.com/en-us/library/bb383977.aspx" target="_blank">Extension Methods (C# Programming Guide)</a>.<div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="6d67ec6b-96ed-0a8b-0ad4-1c0568c7bf91.htm">DryadLinqQueryable Class</a></div><div class="seeAlsoStyle"><a href="7f3c4d7e-cc6a-3e04-2d17-ad817bc05ccb.htm">Fork Overload</a></div><div class="seeAlsoStyle"><a href="efe6507e-9fd8-bbd3-8227-fd6ba9e289c1.htm">Microsoft.Research.DryadLinq Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"> </div></body></html>